---
layout: post
title: TreeSaver 的模板Grid
---

Grid的体验  <p>我们先用Firebug来定位一下模板的一些信息：</p>  <p>我们要分析的模板效果图：</p>  <p> </p>  <p>使用Firebug看到这时候这个模板的CSS：</p>  <p>注意，我们是看得id=”currentPage”的这个div，它的class=“grid w9col feature1 page-2”</p>  <p> </p>  <p>我们在资源文件 resources.html 中搜索，“grid w9col feature1 page-2”</p>  <p>这时我们看到的grid的div定义就是我们现在用到的模板，这个模板的定义如下：</p>  <pre style="border-bottom: #cecece 1px solid; border-left: #cecece 1px solid; padding-bottom: 5px; background-color: #fbfbfb; min-height: 40px; padding-left: 5px; width: 800px; padding-right: 5px; overflow: auto; border-top: #cecece 1px solid; border-right: #cecece 1px solid; padding-top: 5px"><pre style="background-color: #fbfbfb; margin: 0em; width: 100%; font-family: consolas,&#39;Courier New&#39;,courier,monospace; font-size: 12px">  &lt;div class=&quot;grid w9col feature1 page-2&quot;&gt; </pre><pre style="background-color: #ffffff; margin: 0em; width: 100%; font-family: consolas,&#39;Courier New&#39;,courier,monospace; font-size: 12px">   &lt;div class=&quot;runningtitle&quot;&gt; </pre><pre style="background-color: #fbfbfb; margin: 0em; width: 100%; font-family: consolas,&#39;Courier New&#39;,courier,monospace; font-size: 12px">    &lt;span&gt; </pre><pre style="background-color: #ffffff; margin: 0em; width: 100%; font-family: consolas,&#39;Courier New&#39;,courier,monospace; font-size: 12px">     Nomad Editions</pre><pre style="background-color: #fbfbfb; margin: 0em; width: 100%; font-family: consolas,&#39;Courier New&#39;,courier,monospace; font-size: 12px">    &lt;/span&gt; </pre><pre style="background-color: #ffffff; margin: 0em; width: 100%; font-family: consolas,&#39;Courier New&#39;,courier,monospace; font-size: 12px">    &lt;span data-bind=&quot;vertical&quot;&gt; </pre><pre style="background-color: #fbfbfb; margin: 0em; width: 100%; font-family: consolas,&#39;Courier New&#39;,courier,monospace; font-size: 12px">     vertical</pre><pre style="background-color: #ffffff; margin: 0em; width: 100%; font-family: consolas,&#39;Courier New&#39;,courier,monospace; font-size: 12px">    &lt;/span&gt; </pre><pre style="background-color: #fbfbfb; margin: 0em; width: 100%; font-family: consolas,&#39;Courier New&#39;,courier,monospace; font-size: 12px">   &lt;/div&gt; </pre><pre style="background-color: #ffffff; margin: 0em; width: 100%; font-family: consolas,&#39;Courier New&#39;,courier,monospace; font-size: 12px">   &lt;div class=&quot;container col-1 img w9col overflow&quot; </pre><pre style="background-color: #fbfbfb; margin: 0em; width: 100%; font-family: consolas,&#39;Courier New&#39;,courier,monospace; font-size: 12px">     data-sizes=&quot;triple-16x9 triple-4x3 triple-1x1 triple-3x4&quot;&gt; </pre><pre style="background-color: #ffffff; margin: 0em; width: 100%; font-family: consolas,&#39;Courier New&#39;,courier,monospace; font-size: 12px">   &lt;/div&gt; </pre><pre style="background-color: #fbfbfb; margin: 0em; width: 100%; font-family: consolas,&#39;Courier New&#39;,courier,monospace; font-size: 12px">   &lt;div class=&quot;column col-1&quot;&gt; </pre><pre style="background-color: #ffffff; margin: 0em; width: 100%; font-family: consolas,&#39;Courier New&#39;,courier,monospace; font-size: 12px">   &lt;/div&gt; </pre><pre style="background-color: #fbfbfb; margin: 0em; width: 100%; font-family: consolas,&#39;Courier New&#39;,courier,monospace; font-size: 12px">   &lt;div class=&quot;column col-4&quot;&gt; </pre><pre style="background-color: #ffffff; margin: 0em; width: 100%; font-family: consolas,&#39;Courier New&#39;,courier,monospace; font-size: 12px">   &lt;/div&gt; </pre><pre style="background-color: #fbfbfb; margin: 0em; width: 100%; font-family: consolas,&#39;Courier New&#39;,courier,monospace; font-size: 12px">   &lt;div class=&quot;column col-7&quot;&gt; </pre><pre style="background-color: #ffffff; margin: 0em; width: 100%; font-family: consolas,&#39;Courier New&#39;,courier,monospace; font-size: 12px">   &lt;/div&gt; </pre><pre style="background-color: #fbfbfb; margin: 0em; width: 100%; font-family: consolas,&#39;Courier New&#39;,courier,monospace; font-size: 12px">  &lt;/div&gt; </pre><pre style="background-color: #ffffff; margin: 0em; width: 100%; font-family: consolas,&#39;Courier New&#39;,courier,monospace; font-size: 12px"></pre></pre><p>这个模板的描述如下：</p>  标题区域我们用 class=&quot;runningtitle&quot; 来定义， 其中的 “WIDE Screen” 的文本是来自数据绑定的内容：data-bind=&quot;vertical&quot;   图片区域我们用 class =” container “ 来定义；   三栏文字我们用三个 class = “column” 来定义； data-bind 的问题<p>这里模板定义的数据绑定 data-bind=&quot;vertical&quot; 的数据是来自内容文件的 microdata</p><p>内容文件中有下面的节：</p><pre style="border-bottom: #cecece 1px solid; border-left: #cecece 1px solid; padding-bottom: 5px; background-color: #fbfbfb; min-height: 40px; padding-left: 5px; width: 800px; padding-right: 5px; overflow: auto; border-top: #cecece 1px solid; border-right: #cecece 1px solid; padding-top: 5px"><pre style="background-color: #fbfbfb; margin: 0em; width: 100%; font-family: consolas,&#39;Courier New&#39;,courier,monospace; font-size: 12px">&lt;!-- Start buildMicroData --&gt;</pre><pre style="background-color: #ffffff; margin: 0em; width: 100%; font-family: consolas,&#39;Courier New&#39;,courier,monospace; font-size: 12px">&lt;div class=&quot;microdata&quot; itemscope&gt;</pre><pre style="background-color: #fbfbfb; margin: 0em; width: 100%; font-family: consolas,&#39;Courier New&#39;,courier,monospace; font-size: 12px">&lt;span itemprop=&quot;vertical&quot;&gt;&lt;a itemprop=&quot;url&quot; href=&quot;index.html&quot;&gt;Wide Screen&lt;/a&gt;&lt;/span&gt;</pre><pre style="background-color: #ffffff; margin: 0em; width: 100%; font-family: consolas,&#39;Courier New&#39;,courier,monospace; font-size: 12px">&lt;span itemprop=&quot;date&quot;&gt;June 29, 2011&lt;/span&gt;</pre><pre style="background-color: #fbfbfb; margin: 0em; width: 100%; font-family: consolas,&#39;Courier New&#39;,courier,monospace; font-size: 12px">&lt;/div&gt;</pre><pre style="background-color: #ffffff; margin: 0em; width: 100%; font-family: consolas,&#39;Courier New&#39;,courier,monospace; font-size: 12px">&lt;!-- End buildMicroData --&gt;</pre></pre><p>&#160;</p>data-sizes 的问题<p>模板文件中，我们可以看：data-sizes=&quot;triple-16x9 triple-4x3 triple-1x1 triple-3x4&quot;</p><p>这是我们预先定义的一些信息块大小。</p><p>那么信息块的大小具体是在哪里定义的呢？</p><p>这是在内容文件中定义的。</p><p>以triple-16x9为例，我们在内容文件中找到如下信息：</p><pre style="border-bottom: #cecece 1px solid; border-left: #cecece 1px solid; padding-bottom: 5px; background-color: #fbfbfb; min-height: 40px; padding-left: 5px; width: 800px; padding-right: 5px; overflow: auto; border-top: #cecece 1px solid; border-right: #cecece 1px solid; padding-top: 5px"><pre style="background-color: #fbfbfb; margin: 0em; width: 100%; font-family: consolas,&#39;Courier New&#39;,courier,monospace; font-size: 12px">&lt;!-- 19 显示器 16x9  三栏(triple)--&gt;</pre><pre style="background-color: #ffffff; margin: 0em; width: 100%; font-family: consolas,&#39;Courier New&#39;,courier,monospace; font-size: 12px">&lt;div data-minHeight=&quot;515&quot; data-sizes=&quot;triple-16x9&quot;</pre><pre style="background-color: #fbfbfb; margin: 0em; width: 100%; font-family: consolas,&#39;Courier New&#39;,courier,monospace; font-size: 12px">  data-minWidth=&quot;788&quot;&gt;</pre><pre style="background-color: #ffffff; margin: 0em; width: 100%; font-family: consolas,&#39;Courier New&#39;,courier,monospace; font-size: 12px">  &lt;img width=&quot;788&quot;</pre><pre style="background-color: #fbfbfb; margin: 0em; width: 100%; font-family: consolas,&#39;Courier New&#39;,courier,monospace; font-size: 12px">    data-src=&quot;../img/10_394.jpg&quot;</pre><pre style="background-color: #ffffff; margin: 0em; width: 100%; font-family: consolas,&#39;Courier New&#39;,courier,monospace; font-size: 12px">    height=&quot;443&quot; /&gt;</pre><pre style="background-color: #fbfbfb; margin: 0em; width: 100%; font-family: consolas,&#39;Courier New&#39;,courier,monospace; font-size: 12px">  &lt;p class=&quot;caption&quot;&gt;</pre><pre style="background-color: #ffffff; margin: 0em; width: 100%; font-family: consolas,&#39;Courier New&#39;,courier,monospace; font-size: 12px">    (triple) Jacob Wysocki in the title role, and John C. Reilly as Mr.</pre><pre style="background-color: #fbfbfb; margin: 0em; width: 100%; font-family: consolas,&#39;Courier New&#39;,courier,monospace; font-size: 12px">    Fitzgerald in Azazel Jacobs’ new film &lt;em&gt;Terri&lt;/em&gt;.&amp;nbsp; &lt;span</pre><pre style="background-color: #ffffff; margin: 0em; width: 100%; font-family: consolas,&#39;Courier New&#39;,courier,monospace; font-size: 12px">      class=&quot;credit&quot;&gt;Art Takes Over6&lt;/span&gt;</pre><pre style="background-color: #fbfbfb; margin: 0em; width: 100%; font-family: consolas,&#39;Courier New&#39;,courier,monospace; font-size: 12px">  &lt;/p&gt;</pre><pre style="background-color: #ffffff; margin: 0em; width: 100%; font-family: consolas,&#39;Courier New&#39;,courier,monospace; font-size: 12px">&lt;/div&gt;</pre><pre style="background-color: #fbfbfb; margin: 0em; width: 100%; font-family: consolas,&#39;Courier New&#39;,courier,monospace; font-size: 12px"></pre></pre>注意，这里定义了data-minHeight=&quot;515&quot; ，data-minWidth=&quot;788&quot; <p>&#160;</p><p> </p>Grid的定义<p>https://github.com/Treesaver/treesaver/wiki/Grid</p><p>Grid 是页面模板的骨架，它用来指定 Column 、Container、Field或其他页面设计元素的大小和位置。</p><p>下面是一个Grid的最简单例子代码：</p><p>这个Grid包括一个Column和一个Container。</p><pre style="border-bottom: #cecece 1px solid; border-left: #cecece 1px solid; padding-bottom: 5px; background-color: #fbfbfb; min-height: 40px; padding-left: 5px; width: 800px; padding-right: 5px; overflow: auto; border-top: #cecece 1px solid; border-right: #cecece 1px solid; padding-top: 5px"><pre style="background-color: #fbfbfb; margin: 0em; width: 100%; font-family: consolas,&#39;Courier New&#39;,courier,monospace; font-size: 12px">&lt;div class=&quot;grid&quot;&gt;</pre><pre style="background-color: #ffffff; margin: 0em; width: 100%; font-family: consolas,&#39;Courier New&#39;,courier,monospace; font-size: 12px">  &lt;div class=&quot;container&quot; data-sizes=&quot;pullquote&quot;&gt;&lt;/div&gt;</pre><pre style="background-color: #fbfbfb; margin: 0em; width: 100%; font-family: consolas,&#39;Courier New&#39;,courier,monospace; font-size: 12px">  &lt;div class=&quot;column&quot;&gt;&lt;/div&gt;</pre><pre style="background-color: #ffffff; margin: 0em; width: 100%; font-family: consolas,&#39;Courier New&#39;,courier,monospace; font-size: 12px">&lt;/div&gt;</pre></pre>Grid 的拉伸和尺寸<p>当我们在使用Grid模板时，页面的高度是基于下面公式，我们计算出下面公式的最大的x值，就是页面的高度。</p><p>(Grid minHeight) + x * (Grid lineHeight) &lt;= availableHeight - (Grid margin+border+padding)</p><p>这里的x，如果全部放文字的话，就是能放几行文字的值。</p><p>&#160;</p>模板中一些特殊的CSS定义<p>模板中下面CSS的定义除了CSS本身具有的特性外，还有特殊含义：</p>  odd: 仅仅在奇数页使用的模板；Only use the Grid on odd pages of the story  even: 仅仅在偶数页使用的模板；Only use the Grid on even pages of the story  __page-2, page-3, etc__: 仅仅在特定页面使用的模板；Only use the grid on the given page numbers. If class=page-2 page-4, then the grid can only be used for page two or page four, and never anywhere else  no-page-2, no-page-3, etc: 不在特定的页面使用的模板；Never use the grid on those given page numbers  onlypage: 仅仅在封面时用。 If used, will be the first and only page in the entire article, even if there is still leftover content. Used for cover pages  sizetocontainer: 幻灯片时用，页面的高度和第一个Container的高度一样的时候用； Make the page the height of the first Container found in the Grid. Used for slideshows  fixed: 模板的高度不会自动扩展； Do not stretch the height of the grid

了解破碎机常识：<a href='http://www.crushermillsupplier.com'>crusher mill supplier</a>
---
layout: post
title: 用开源 ASP.NET MVC 程序 Bonobo Git Server 搭建 Git 服务器
---

<p>现在不用Git，都不好意思说自己是程序员。</p><p>当你想用Git，而源代码服务器是Windows系统时，你将面临一个问题：如何在Windows上搭建Git服务器？</p><p>看看这篇文章（Setting up a Msysgit Server with copSSH on Windows）中的配置步骤，你会忘而却步吗？你会感叹&ldquo;Linux世界的精彩，Windows世界的无奈&rdquo;？</p><p>但程序员的天性是解决问题并以此为乐。不管生活在哪个世界，解决问题才是王道。于是，有程序员解决了这个问题，用ASP.NET MVC写了一个开源的Git服务器程序&mdash;&mdash;Bonobo Git Server。</p><p>Bonobo Git Server基于.NET Framework 4.0+ASP.NET MVC 3开发，数据库用的是SQLite，Git部分用的是GitSharp - Git for .NET and Mono。</p><p>运行Bonobo Git Server，只需要IIS+WebDAV（IIS 7.5自带WebDAV, IIS 7.0需要下载安装）。</p><p>下面简单分享一下安装配置步骤，该步骤经过实践检验，我们已经成功部署。</p><p>第一部分Bonobo Git Server站点的安装与配置</p><p>1. 下载Bonobo Git Server并解压</p><p>下载地址：http://www.chodounsky.net/bonobo-git-server/</p><p>如果想看源代码，请在这里下载：https://github.com/jakubgarfield/Bonobo-Git-Server。</p><p>2. 配置一个IIS站点（比如:git.cnblogs.com），指向Bonobo Git Server所在文件夹。</p><p>a) 应用程序池要以.NET Framework 4.0运行。</p><p>b) 要安装ASP.NET MVC3。</p><p>c) 如果服务器用的是X64的Windows，需要下载64位版本的System.Data.SQLite至bin文件夹替换32位版本的。</p><p>3. 通过浏览器访问上一步配置的站点，如下图：</p><p>4. 输入默认用户名admin与密码admin，进入下图页面：</p><p>5. 点击&ldquo;Global Settings&rdquo;，设置一下代码库的根目录，并设置好该目录的文件系统权限（需要有写权限）：</p><p>6. 点击&ldquo;Respositories&rdquo; 》&ldquo;Create new repository&rdquo;，创建新的代码库：</p><p>7. 创建好之后，点击代码库的名称，就能查看该代码库的信息，比如最重要的信息&mdash;&mdash;Git Repository Location。</p><p>8. 安装/配置WebDAV</p><p>安装</p><p>1) 如果是IIS 7.5（Windows 7, Windows Server 2008 R2），WebDAV是自带的，只要添加该组件即可。具体配置方法参见Installing WebDAV on IIS 7.5。</p><p>2) 如果是IIS 7.0，需要另外下载安装，请参见 Installing WebDAV on IIS 7.0。</p><p>配置</p><p>添加一条Authoring Rule：</p><p>到此，Git 服务器站点的基本配置就完成了。</p><p>第二部分 Git客户端简要操作步骤</p><p>现在可以通过Git客户端提交代码了，这里用的是TortoiseGit。</p><p>1. 安装TortoiseGit，下载地址：http://code.google.com/p/tortoisegit/（需要先安装msysgit），VS2010插件可以使用Git Source Control Provider。</p><p>2. 在将要放置代码的文件夹点击右键选择"Git Clone"，在Url中输入代码库的地址，确定后输入默认用户名与密码，然后就开始Clone...出现如下画面表示Clone成功。</p><p>3. 向这个代码库文件夹添加代码文件，然后通过TortoiseGit的菜单[Git Commint -&gt; "master"...&rdquo;]提交代码（这个提交只是向本地的代码库提交，并没有提交至服务器，这也是Git与SVN的主要区别之一）。</p><p>4. 通过TortoiseGit &gt; Push 提交至Git服务器。</p><p>第三部分 Git服务器的其他操作</p>修改管理员密码，通过左侧的 "Users"链接进入用户管理界面进行修改。添加新用户并授权，管理员无法直创建帐户，需要通过注册页面先注册一个帐户（登录页面右上角有注册链接），然后在用户管理界面将该用户加入Administrator角色。如果遇到问题，可以查看App_Data中的错误日志文件Bonobo.Git.Server.Errors.log。由于是开源程序，有什么不合你意的地方，直接可以修改源代码。<p>小结</p><p>轻松搞定，如愿以偿，现在终于可以理直气壮地说，&ldquo;我是程序员，我用的是Git！&rdquo;</p>

了解破碎机常识：<a href='http://www.crushermillsupplier.com'>crusher mill supplier</a>
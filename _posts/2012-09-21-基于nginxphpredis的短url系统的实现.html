---
layout: post
title: 基于Nginx+PHP+Redis的短URL系统的实现
---

一、所需环境<p>开发环境：CentOS 5.4</p><p>运行环境：Nginx+PHP+Redis</p>二、运行环境的部署1、Nginx+PHP 环境的安装<p>参考：http://www.s135.com/nginx_php_v6</p>2、Redis 环境的安装Redis服务端的安装<blockquote><p>cd /usr/local/src/</p><p>#下载rediswget http://redis.googlecode.com/files/redis-2.2.12.tar.gz</p><p>#解压tar zxvf redis-2.2.12.tar.gzcp -R redis-2.2.12 /usr/local/mv /usr/local/redis-2.2.12/ /usr/local/redis#可查看帮助文件 INSTALLcd /usr/local/redis/srcmake</p><p>#make命令执行完成后，会在src目录下生成5个可执行文件，分别是redis-server、redis-cli、redis-benchmark、redis-check-aof、redis-check-dump，它们的作用如下：#redis-server：Redis服务器的daemon启动程序#redis-cli：Redis命令行操作工具。当然，你也可以用telnet根据其纯文本协议来操作#redis-benchmark：Redis性能测试工具，测试Redis在你的系统及你的配置下的读写性能#redis-check-aof：更新日志检查redis-check-dump：用于本地数据库检查</p><p>make install#执行make install ，会执行如下的命令mkdir -p /usr/local/bincp -p redis-server /usr/local/bincp -p redis-benchmark /usr/local/bincp -p redis-cli /usr/local/bincp -p redis-check-dump /usr/local/bincp -p redis-check-aof /usr/local/bin#我习惯手动运行下面的命令：cp /usr/local/redis/src/redis-server /usr/local/redis/cp /usr/local/redis/src/redis-cli /usr/local/redis/cp /usr/local/redis/src/redis-benchmark /usr/local/redis/</p><p>#配置redis.conf根据实际情况来配置#运行redis/usr/local/redis/redis-server /usr/local/redis/redis.conf</p></blockquote>phpredis模块的安装<blockquote><p>#下载phprediswget https://nodeload.github.com/nicolasff/phpredis/tarball/mastertar zxvf nicolasff-phpredis-2.1.3-20-g9e1d068.tar.gzmv nicolasff-phpredis-9e1d068/ phprediscd phpredis/#生成扩展文件redis.so/usr/local/webserver/php/bin/phpize./configure &ndash;with-php-config=/usr/local/webserver/php/bin/php-configmakemake install</p><p>#make install 后会得到如下结果：Installing shared extensions: /usr/local/webserver/php/lib/php/extensions/no-debug-non-zts-20060613/</p></blockquote><p>接下来在php.ini中添加PHP的扩展目录(如果已添加则不用再次添加)</p><blockquote><p>extension_dir = &ldquo;/usr/local/webserver/php/lib/php/extensions/no-debug-non-zts-20060613/&rdquo;</p></blockquote><p>接着添加如下代码：</p><blockquote><p>extension=redis.so</p></blockquote><p>执行以下命令，即可看到加载的redis模块：</p><blockquote><p>/usr/local/webserver/php/sbin/php-fpm reload</p></blockquote>三、程序代码的实现<p>博客来源于：http://www.lnmp100.com/89</p>

了解破碎机常识：<a href='http://www.crushermillsupplier.com'>crusher mill supplier</a>
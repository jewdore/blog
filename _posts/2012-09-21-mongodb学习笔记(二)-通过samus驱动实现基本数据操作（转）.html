---
layout: post
title: MongoDB学习笔记(二) 通过samus驱动实现基本数据操作（转）
---

<p>上一期笔者为我们做了MongoDB的介绍并且介绍了MongoDB的安装方法，这一期我们将继续跟随笔者学习通过samus驱动实现基本数据操作。</p> <p>传统的关系数据库一般由数据库（database）、表（table）、记录（record）三个层次概念组成，MongoDB是由 （database）、集合（collection）、文档对象（document）三个层次组成。MongoDB对于关系型数据库里的表，但是集合中没 有列、行和关系概念，这体现了模式自由的特点。</p> 一、关于MongoDB的驱动 <p>MongoDB支持多种语言的驱动，在此我们只介绍C#的驱动。仅C#驱动都有很多种，每种驱动的形式大致相同，但是细节各有千秋，因此代码不能通 用。比较常用的是官方驱动和samus驱动。samus驱动除了支持一般形式的操作之外，还支持linq方式操纵数据。各人比较喜欢这种方式。</p> <p>官方驱动下载地址：https://github.com/mongodb/mongo-csharp-driver/downloads</p> <p>samus驱动下载地址：https://github.com/samus/mongodb-csharp</p> <p>本篇将从samus驱动入手讲解数据库访问，国际惯例，存取&#8220;Hello World!&#8221;。</p> 二、通过samus驱动实现HelloWorld存取 <p>在进行下述操作之前，请先确定MongoDB服务已经开启，不知道怎么开启服务，请看上篇。下载驱动，新建控制台项目，并添加对MongoDB.dll的引用，如果你下载的是驱动源码，编译一遍引用生成的DLL即可。</p> <p>基本代码如下：</p> <pre><ol>//链接字符串 stringconnectionString="mongodb://localhost"; //数据库名 stringdatabaseName="myDatabase"; //集合名 stringcollectionName="myCollection"; //定义Mongo服务 Mongomongo=newMongo(connectionString); //获取databaseName对应的数据库，不存在则自动创建 MongoDatabasemongoDatabase=mongo.GetDatabase(databaseName)asMongoDatabase; //获取collectionName对应的集合，不存在则自动创建 MongoCollection&lt;Document&gt;mongoCollection=mongoDatabase.GetCollection&lt;Document&gt;(collectionName)asMongoCollection&lt;Document&gt;; //链接数据库 mongo.Connect(); try { //定义一个文档对象，存入两个键值对 Documentdoc=newDocument(); doc["ID"]=1; doc["Msg"]="HelloWorld!"; //将这个文档对象插入集合 mongoCollection.Insert(doc); //在集合中查找键值对为ID=1的文档对象 DocumentdocFind=mongoCollection.FindOne(newDocument{{"ID",1}}); //输出查找到的文档对象中键&#8220;Msg&#8221;对应的值，并输出 Console.WriteLine(Convert.ToString(docFind["Msg"])); } finally { //关闭链接 mongo.Disconnect(); }</ol></pre> <p>运行程序，成功打印helloword。同时，我们打开数据文件夹，发现多了两个文件&#8220;myDatabase.ns&#8221;和&#8220;myDatabase.0&#8221;。</p> 三、小结 <p>代码下载：http://files.cnblogs.com/lipan/MongoDB_001.rar</p> <p>本篇简洁的讲解了基本存取操作，下篇将结合MVC框架通过MongoDB实现model层单个集合的基本增删查改操作</p> <p>原文出处：http://www.cnblogs.com/lipan/archive/2011/03/08/1977691.html</p>

了解破碎机常识：<a href='http://www.crushermillsupplier.com'>crusher mill supplier</a>
---
layout: post
title: 非常惊艳的Css3的桌面上散落的相片效果，以及单击放大图片的LightBox效果（独立Js非jQuery）的实现原理
---

<p>Demo地址http://xueduany.github.com/KitJs/KitJs/index.html#lightbox</p> <p>效果图如下</p> <p> </p> <p> </p>  <p>实现原理很简单，基本的html如下</p> <blockquote> <p>&lt;div id="gallery"&gt; &lt;div class="item"&gt; &lt;a class="kitLightBox" href="img/original/blue-green-nature.jpg" target="_blank"&gt;&lt;img src="img/thumbs/blue-green-nature.jpg"&gt;&lt;/a&gt; &lt;div class="desc"&gt; blue-green-nature &lt;/div&gt; &lt;/div&gt; &lt;div class="item"&gt; &lt;a class="kitLightBox" href="img/original/2-breast-stroke.jpg" target="_blank"&gt;&lt;img src="img/thumbs/2-breast-stroke.jpg"&gt;&lt;/a&gt; &lt;div class="desc"&gt; 2-breast-stroke &lt;/div&gt; &lt;/div&gt; &lt;div class="item"&gt; &lt;a class="kitLightBox" href="img/original/farm.jpg" target="_blank"&gt;&lt;img src="img/thumbs/farm.jpg"&gt;&lt;/a&gt; &lt;div class="desc"&gt; farm &lt;/div&gt; &lt;/div&gt; &lt;div class="item"&gt; &lt;a class="kitLightBox" href="img/original/bahnhoff.jpg" target="_blank"&gt;&lt;img src="img/thumbs/bahnhoff.jpg"&gt;&lt;/a&gt; &lt;div class="desc"&gt; bahnhoff &lt;/div&gt; &lt;/div&gt; </p><p> &#8230;&#8230;</p></blockquote>  <p>先定义一块桌布，也就是div id=&#8221;gallery&#8221;</p> <p>然后按照顺序，排列一竖列相册，div class=&#8221;item&#8221;，里面用一个a链接把图片包起来</p>  <p>接下来，我们要实现相片的分散效果，</p> <blockquote> <p>$k(function() { $k('.item', $k('#gallery')).each(function() { $k(this).css({ top : $kit.math.rand($k('#gallery').innerHeight()) + 'px', left : $kit.math.rand($k('#gallery').innerWidth()) + 'px', '-webkit-transform' : 'rotate(' + $kit.math.rand(-40, 40) + 'deg)' }); })</p></blockquote> <p>这里的是$k是kit的写法，类似jQuery的$，API完全一样，这段代码的意思是找到所有item的div，设置为绝对定位，用桌布高宽，生成随机数，排列，对于css3，使用css3特有的旋转效果'rotate属性，旋转一定角度 </p><p> </p><p>这个时候，相片就开始分散开了，达到了图1的效果，接下来我们要做一下LightBox的效果， </p><blockquote> <p>$k(function() { $k('.item', $k('#gallery')).each(function() { $k(this).css({ top : $kit.math.rand($k('#gallery').innerHeight()) + 'px', left : $kit.math.rand($k('#gallery').innerWidth()) + 'px', '-webkit-transform' : 'rotate(' + $kit.math.rand(-40, 40) + 'deg)' }); }).pushStack('a.kitLightBox').each(function() { new $kit.ui.LightBox({ el : this }).init(); }); });</p></blockquote> <p>完整代码如上，对于每个图片的a链接，使用kitjs的lightbox UI widget实例化，得到的效果就能点击，动画效果的打开图片大图了。^_^祝各位使用愉快! </p><p>LightBox源代码https://github.com/xueduany/KitJs/blob/master/KitJs/src/js/widget/LightBox/lightbox.js </p><p>相片分散效果源代码https://github.com/xueduany/KitJs/blob/master/KitJs/demo/Lightbox-Gallery/demo.html </p>

了解破碎机常识：<a href='http://www.crushermillsupplier.com'>crusher mill supplier</a>
---
layout: post
title: 在Windows上安装Node.js模块
---

<p>Node.js逐渐升温，很多朋友已经开始关注。但是在Windows平台上需要基于Cygwin安装配置环境，让很多人望而却步。不过有消息称Microsoft已经联系Node.js官方，相信很快会有改善。</p><p>那么在不安装Cygwin的情况下，是否可以在Windows上搭建Node.js环境进行试验开发哪？我以Node.js + express做了个简单测试，基本可行。</p><p>步骤如下：</p><p>1. 下载Node.js官方非稳定版Windows可执行程序：</p><p> http://nodejs.org/#download</p><p> 我在试验中使用了0.5.7版本：http://nodejs.org/dist/v0.5.7/node.exe</p><p>2. 创建c:\nodejs目录，并将node.exe保存在此目录中</p><p>3. 下载express。因为依赖关系，我们还需要下载：connect、qs、mime和jade(express默认模板系统。如果你使用其他模板系统，需要下载相应系统)</p><p> 名称   地址                       试验版本</p><p> ---------------------------------------------------------------</p><p> express: https://github.com/visionmedia/express     2.4.3</p><p> connect: https://github.com/senchalabs/connect      1.7.1</p><p> qs:   https://github.com/visionmedia/node-querystring 0.3.1</p><p> mime:  https://github.com/bentomas/node-mime      1.2.4</p><p> jade:  https://github.com/visionmedia/jade       0.15.4</p><p>4. 创建c:\nodejs\node_modules目录，并在此目录中分别创建[Module]目录。然后将上一步下载的文件压缩，把相关文件拷贝到[Module]目录中。</p><p> node_modules</p><p>  |- connect &lt;= connect: lib/*</p><p>  |- express &lt;= express: lib/*</p><p>  |- jade  &lt;= jade: lib/*</p><p>  |- mime  &lt;= mime: mime.js &amp; types/*</p><p>  |- qs   &lt;= qs: lib/*</p><p>5. 在c:\nodejs\node_modules目录，分别创建以下文件：</p><p> connect.js</p><p>  内容：module.exports = require('./connect/connect');</p><p> express.js</p><p>  内容：module.exports = require('./express/express');</p><p> jade.js</p><p>  内容：module.exports = require('./jade/jade');</p><p> mime.js</p><p>  内容：module.exports = require('./mime/mime');</p><p> qs.js</p><p>  内容：module.exports = require('./qs/querystring');</p><p>6. 将下载的express压缩包中的bin/express文件拷贝到c:\nodejs目录，并改名为express.js</p><p>7. 修改express.js文件，以下以2.4.3为例：</p><p> 7.1. 修改mkdir函数体</p><p>    401: exec('mkdir -p ' + path, function(err){</p><p>     -&gt;exec('md ' + path, function(err){</p><p> 7.2. 修改mkdir函数调用</p><p>    263: mkdir(path + '/public/javascripts');</p><p>     -&gt;mkdir(path + '\\public\\javascripts');</p><p>    264: mkdir(path + '/public/images');</p><p>     -&gt;mkdir(path + '\\public\\images');</p><p>    265: mkdir(path + '/public/stylesheets', function(){</p><p>     -&gt;mkdir(path + '\\public\\stylesheets', function(){</p><p>    280: mkdir(path + '/views', function(){</p><p>     -&gt;mkdir(path + '\\views', function(){</p><p>8. 创建一个express项目：</p><p> c:\nodejs\node.exe express.js -s hello</p><p>9. c:\nodejs\node_modules\*.* =&gt; c:\nodejs\hello\node_modules\</p><p>10. 运行并测试：</p><p> c:\nodejs\node.exe hello\app.js</p><p> 在浏览器中打开：http://localhost:3000，查看结果。</p><p>至此测试完成。</p><p>下面给出测试文件，在测试文件中我还试验了express session。可以在浏览器中打开：http://localhost:3000/session，查看结果。</p><p>试验文件：nodejs.zip</p>

了解破碎机常识：<a href='http://www.crushermillsupplier.com'>crusher mill supplier</a>
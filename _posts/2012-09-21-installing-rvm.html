---
layout: post
title: Installing RVM
---

Installing RVM<p>（本文转载于：https://rvm.beginrescueend.com/rvm/install/为原文链接找不到时可以使用; 另，文中的ruby 1.9.2 现在可以用 1.9.3 了！）</p><p>There are two fundamentally different ways to install and configure RVM.</p>Single-User installations- (For an isolated install within a user's $HOME)Multi-User installations (For server administrators - For an installation usable by all users on the system - Please note that Single-User supercedes Multi-User. This also used to be called the System-Wide Install)<p>The system-wide script is no longer available, and any tutorials referencing it will no longer work correctly. Multi-User is the System-Wide install. The only supported install type for multiple users is the Multi-User install referenced below. </p><p>Note that that any outside tutorials are NOT supported whether they work or not. Tutorials are great, however we have spent massive amounts of man hours debugging the installation process. Please use the install process(es) from this site only, as this is the only supported installation types and methods.</p><p><strong style="color: red;">For most purposes, the recommended installation method is Single-User, which is a self-contained RVM installation in a user's home directory.</p>To update an existing RVM installation<p>It is safe to simply re-run the installation script again, or you can follow the upgrading docs. </p>Installation<p>I recommend you read the installation script yourself. This will give you a chance to understand what it is doing <em>before</em> installing, and allow you to feel more comfortable running it if you do so.</p>1. Download and run the RVM installation scriptInstalling the latest release version in git:<pre class="code">user$ bash &lt; &lt;(curl -s https://raw.github.com/wayneeseguin/rvm/master/binscripts/rvm-installer )</pre><p>For a Multi-User install you would execute the following:</p><pre class="code">user$ sudo bash &lt; &lt;(curl -s https://raw.github.com/wayneeseguin/rvm/master/binscripts/rvm-installer )</pre><p>Note: All multi-user install instructions <em>must</em> be prefixed with the 'sudo' command. </p>Installing a specific version:<pre class="code">user$ curl -s https://raw.github.com/wayneeseguin/rvm/master/binscripts/rvm-installer -o rvm-installer ; chmod +x rvm-installer ; ./rvm-installer --version latest</pre><p>For a Multi-User install you would do:</p><pre class="code">user$ curl -s https://raw.github.com/wayneeseguin/rvm/master/binscripts/rvm-installer -o rvm-installer ; chmod +x rvm-installer ; sudo ./rvm-installer --version latest</pre>Single-User Install Location: ~/.rvm/<p>If the install script is run as a standard, non-root user, RVM will install into the current users's home directory.</p>Multi-User Install Location: /usr/local/rvm<p>If the install script is run prefixed with sudo, RVM will automatically install into /usr/local/rvm Please see the troubleshooting page for an important note regarding Multi-User Installs. </p><p>If the rvm install script does nothing or complains about certificates you can bypass this by adding a '-k' switch to the curl command:</p><p>For Single-User installs</p><pre class="code">user$ bash &lt; &lt;(curl -sk https://raw.github.com/wayneeseguin/rvm/master/binscripts/rvm-installer)</pre><p>Please see the FAQ page for an important note regarding root only installs </p><p>For a Multi-User install you would do:</p><pre class="code">user$ sudo bash &lt; &lt;(curl -sk https://raw.github.com/wayneeseguin/rvm/master/binscripts/rvm-installer)</pre>2. Load RVM into your shell sessions as a function<p><em>Throughout these instructions, you may replace .bash_profile with the appropriate startup script for your bash-compatible shell. For other shells you may need to modify these commands. Zsh should be able to use these commands unmodified. </em></p>Single-User:<p>Load RVM by appending the rvm function sourcing to your .bash_profile:</p><pre class="code">user$ echo '[[ -s "$HOME/.rvm/scripts/rvm" ]] &amp;&amp; . "$HOME/.rvm/scripts/rvm" # Load RVM function' &gt;&gt; ~/.bash_profile</pre>Multi-User:<p>The rvm function will be automatically configured for every user on the system if you install as root. This is accomplished by loading /etc/profile.d/rvm.sh on login. Most Linux distributions default to parsing /etc/profile which contains the logic to load all files residing in the /etc/profile.d/ directory. Once you have added the users you want to be able to use RVM to the rvm group, those users MUST log out and back in to gain rvm group membership because group memberships are only evaluated by the operating system at initial login time.</p>3. Reload shell configuration &amp; test<p>Close out your current shell or terminal session and open a new one. You may attempt reloading your .bash_profile with the following command:</p><pre class="code">user$ source .bash_profile</pre><p>However, closing out your current shell or terminal and opening a new one is the preferred way for initial installations.</p><p>If installation and configuration were successful, RVM should now load whenever you open a new shell. This can be tested by executing the following command which should output <em>'rvm is a function'</em> as shown below.</p><pre class="code">user$ type rvm | head -1rvm is a function</pre><p>Finally, see if there are any dependency requirements for your operating system by running:</p><pre class="code">user$ rvm requirements</pre><p>NOTE: Whenever you upgrade RVM in the future, you should always run <em>'rvm notes'</em> and <em>'rvm requirements'</em> as this is usually where you will find details on any major changes and/or additional requirements to ensure your installation stays working. Also, you should also run the above command on any fresh installs. This is where all your additionals will be noted making it an extremely important stop on your way to RVM bliss!</p>Congratulations! You have successfully installed RVM.Try out your new RVM installation<p>Below are some examples of how to install and use a Ruby under RVM.</p><p>Display a list of all "known" rubies. NOTE: RVM can install many more Rubies not listed.</p><pre class="code">user$ rvm list known# MRI Rubies...[ruby-]1.8.7[-p334][ruby-]1.8.7-head...[ruby-]1.9.2[-p180][ruby-]1.9.2-headruby-head# JRubyjruby-1.2.0...</pre><p>Install a version of Ruby (eg 1.9.2):</p><pre class="code">user$ rvm install 1.9.2Installing Ruby from source to: /Users/user/.rvm/rubies/ruby-1.9.2-p180, this may take a while depending on your cpu(s)...ruby-1.9.2-p180 - #fetchingruby-1.9.2-p180 - #downloading ruby-1.9.2-p180, this may take a while depending on your connection......ruby-1.9.2-p180 - #extracting ruby-1.9.2-p180 to /Users/user/.rvm/src/ruby-1.9.2-p180ruby-1.9.2-p180 - #extracted to /Users/user/.rvm/src/ruby-1.9.2-p180ruby-1.9.2-p180 - #configuringruby-1.9.2-p180 - #compilingruby-1.9.2-p180 - #installing...Install of ruby-1.9.2-p180 - #complete</pre><p>Use the newly installed Ruby:</p><pre class="code">user$ rvm use 1.9.2Using /Users/user/.rvm/gems/ruby-1.9.2-p180</pre><p>Check this worked correctly:</p><pre class="code">user$ ruby -vruby 1.9.2p180 (2011-02-18 revision 30909) [i386-darwin9.8.0]user$ which rubyUsing /Users/user/.rvm/gems/ruby-1.9.2-p180/bin/ruby</pre><p>Optionally, you can set a version of Ruby to use as the default for new shells. Note that this overrides the 'system' ruby:</p><pre class="code">user$ rvm use 1.9.2 --default</pre>Enjoy using RVM!Where to now?<p>If you are new to RVM I recommend that you read the basics page. At the end of the basics page there are further links for getting started.</p>Troubleshooting Your Install<p>If you open a new shell and running:</p><pre class="code">$ type rvm | head -1</pre><p>does <em>not</em> show "rvm is a function", RVM isn't being sourced correctly.</p><p>Ensure that RVM is sourced after any path settings as RVM and manipulates the path. If you don't do this, RVM may not work as expected.</p><p>If you are using GNOME on Red Hat, CentOS or Fedora, ensure that the <em>Run command as login shell</em> option is checked under the <em>Title and Command</em> tab in <em>Profile Preferences.</em> After changing this setting, you may need to exit your console session and start a new one before the changes take affect.</p>Example RVM bootstrap script<p>The following script will boostrap git + RVM, assuming that you have curl and sudo installed. The last line of the script will also install several commonly used Rubies for you.</p><pre class="code">#!/usr/bin/env bash# Install gitbash &lt; &lt;( curl -s https://rvm.beginrescueend.com/install/git )# Install RVMbash &lt; &lt;(curl -s https://raw.github.com/wayneeseguin/rvm/master/binscripts/rvm-installer )# Install some Rubiessource "$HOME/.rvm/scripts/rvm"rvm install 1.9.2,rbx,jruby</pre><p>For a Multi-User install you would use:</p><pre class="code">#!/usr/bin/env bash# Install gitsudo bash &lt; &lt;( curl -s https://rvm.beginrescueend.com/install/git )# Install RVMsudo bash &lt; &lt;(curl -s https://raw.github.com/wayneeseguin/rvm/master/binscripts/rvm-installer )# Install some Rubiessource "/usr/local/rvm/scripts/rvm"rvm install 1.9.2,rbx,jruby</pre><pre class="code"></pre>

了解破碎机常识：<a href='http://www.crushermillsupplier.com'>crusher mill supplier</a>
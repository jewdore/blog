---
layout: post
title: iphone，UItableView下拉页面刷新（转载）
---

<p>关于这个内容，网上找到一篇相关内容，介绍的比较详细,转载网址：UITableView下拉刷新页面的实现 http://wangjun.easymorse.com/?p=1193。该文章中还有EGORefreshTableHeaderView的链接，该开源框架是:https://github.com/enormego/EGOTableViewPullRefresh。</p><p>便于自己以后多次学习查看，特把具体内容转载过来：</p><p>下图是实现的效果图,当用户下拉列表的时候,就出现向上的箭头.</p><p> </p><p>实现的开源框架是:https://github.com/enormego/EGOTableViewPullRefresh</p><p>实现过程很简单,下载相应的demo,然后拷贝资源文件和EGORefreshTableHeaderView.h和EGORefreshTableHeaderView.m到相依的工程中.在table所在的类中添加如下代码:</p><p>#import &lt;UIKit/UIKit.h&gt;</p><p>#import "EGORefreshTableHeaderView.h"</p><p>@interface iphone_navtaViewController : UIViewController &lt;UITableViewDelegate,UITableViewDataSource,EGORefreshTableHeaderDelegate&gt;</p><p>{</p><p style="margin-left: 30px;">BOOL isflage; </p><p style="margin-left: 30px;">IBOutlet UITableView *myTableView; </p><p style="margin-left: 30px;"> EGORefreshTableHeaderView *_refreshHeaderView; </p><p style="margin-left: 30px;"> BOOL _reloading; </p><p>}</p><p>@property (nonatomic,retain) UITableView *myTableView;</p><p>- (void)reloadTableViewDataSource;</p><p> - (void)doneLoadingTableViewData; </p><p>@end</p><p>实现方法：</p><blockquote><p>#import "iphone_navtaViewController.h"</p><p>@implementation iphone_navtaViewController</p><p>@synthesize myTableView;</p><p>- (void)viewDidLoad</p><p>{ </p><p style="margin-left: 30px;">[super viewDidLoad];  </p><p style="margin-left: 30px;"> if (_refreshHeaderView == nil) {  </p><p style="margin-left: 60px;">EGORefreshTableHeaderView *view1 = [[EGORefreshTableHeaderView alloc] initWithFrame:CGRectMake(0.0f, 10.0f &ndash; self.myTableView.bounds.size.height, self.myTableView.frame.size.width, self.view.bounds.size.height)];  </p><p style="margin-left: 60px;">view1.delegate = self; </p><p style="margin-left: 60px;"> [self.myTableView addSubview:view1]; </p><p style="margin-left: 60px;"> _refreshHeaderView = view1;  </p><p style="margin-left: 60px;">[view1 release];  </p><p style="margin-left: 60px;">}  </p><p style="margin-left: 30px;">[_refreshHeaderView refreshLastUpdatedDate]; </p><p>}</p><p>- (void)didReceiveMemoryWarning { </p><p style="margin-left: 30px;">[super didReceiveMemoryWarning];</p><p>}</p><p>- (void)viewDidUnload { </p><p>self.myTableView=nil; </p><p>_refreshHeaderView=nil;</p><p>}</p><p>- (void)dealloc</p><p>{ </p><p style="margin-left: 30px;">[_refreshHeaderView release];</p><p style="margin-left: 30px;">[self.myTableView release]; </p><p style="margin-left: 30px;">[super dealloc];</p><p>}</p><p>#pragma mark &ndash; #pragma mark Data Source Loading / Reloading Methods </p><p>- (void)reloadTableViewDataSource{  </p><p style="margin-left: 30px;">NSLog(@"==开始加载数据");  </p><p style="margin-left: 30px;">_reloading = YES; </p><p>} </p><p>- (void)doneLoadingTableViewData{  </p><p style="margin-left: 30px;">NSLog(@"===加载完数据");  </p><p style="margin-left: 30px;">_reloading = NO; </p><p style="margin-left: 30px;"> [_refreshHeaderView egoRefreshScrollViewDataSourceDidFinishedLoading:self.myTableView];</p><p> } </p><p>#pragma mark &ndash; </p><p>#pragma mark UIScrollViewDelegate Methods</p><p> - (void)scrollViewDidScroll:(UIScrollView *)scrollView{ </p><p style="margin-left: 30px;"> [_refreshHeaderView egoRefreshScrollViewDidScroll:scrollView]; </p><p>} </p><p>- (void)scrollViewDidEndDragging:(UIScrollView *)scrollView willDecelerate:(BOOL)decelerate{</p><p style="margin-left: 30px;"> [_refreshHeaderView egoRefreshScrollViewDidEndDragging:scrollView]; </p><p>} </p><p>#pragma mark &ndash;</p><p> #pragma mark EGORefreshTableHeaderDelegate Methods </p><p>- (void)egoRefreshTableHeaderDidTriggerRefresh:(EGORefreshTableHeaderView*)view{  </p><p style="margin-left: 30px;">[self reloadTableViewDataSource];  </p><p style="margin-left: 30px;">[self performSelector:@selector(doneLoadingTableViewData) withObject:nil afterDelay:3.0]; </p><p>} </p><p>- (BOOL)egoRefreshTableHeaderDataSourceIsLoading:(EGORefreshTableHeaderView*)view{  </p><p style="margin-left: 30px;">return _reloading; </p><p>} </p><p>- (NSDate*)egoRefreshTableHeaderDataSourceLastUpdated:(EGORefreshTableHeaderView*)view{ </p><p style="margin-left: 30px;"> return [NSDate date]; </p><p>} </p><p>@end</p></blockquote><p>一个最重要的步骤，就是要添加QuartzCore.framework组建。</p><p>然后运行即可。</p>

了解破碎机常识：<a href='http://www.crushermillsupplier.com'>crusher mill supplier</a>
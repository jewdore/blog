---
layout: post
title: 前端MVC学习笔记第一课
---

<p>　　从8月10多号开始工作到现在已差不多有2个多月了，这期间接触了许多新的东西，比如前端MVC，JS模块化，前端模板，游戏引擎，等，也学习了很多出色的js库的源码，有的也在具体的项目中应用了，但一直以来忙于工作没有时间总结，以前在学校的时候每看一本js的书籍，我都会把其中的精华记录在我的笔记本中，到现在差不多笔记满满得也有3，4本了，每天光是看着这些心里都很充实，呵呵，学校里面的学习总是那么惬意，工作了，没那么多时间和精力用来写笔记，但是在电脑上敲敲键盘写写博也是一件很fashion的事情，而且公司这边招人也都比较看重博客写的好的童鞋，其实博客写的好的一般都很善于总结，总结的重要性大家应该都比较清楚，每当学习的时候把它记录下来，用到的时候查看一下以前的笔记很快就能回忆起来，避免无谓的反复的学习，而且每当做完一个项目，我的导师和leader都会提醒我做总结(其实挺感谢他们的)。好吧，从今天开始，我也开始用心打造属于属于我的blog，记录我的成长的脚步，以技术会友，如果看到我哪篇博客的朋友觉得对他有帮助，那么我也会感到很欣慰。</p><p>　　其实在我看到backbone+underscore+jquery+icanhaz(mustache)这一经典的mvc组合之前，我对mvc的理解主要还是集中在后端，在学校里面做的j2ee的项目中用到的ssh的整合开发，接触不多的extjs的mvc模式，以及用的比较熟的ASP.NET的三层架构，ASP.NET MVC，现在貌似都3.0了，如果让我畅想一下mvc在js中的应用应该也是模仿后台这些机制，并把它迁移到js中去(PS：其实js经常被这么应用，单从游戏开发中就可以看出)，当我看了backbone的文档后发现正是如此。记得我在入职后第一个mini项目中成功的应用了它，过程很是坎坷，当时也是才接触它一周不到，没有中文文档，遇到问题只有查英文文档和源码，连续加班甚至通宵终于克服了一个又一个技术障碍完成了开发，当时很是激动，我阅读英文文档的能力也在这个过程大幅度提升，(*^__^*) 嘻嘻，大家其实也不用对mvc感到很恐慌，我也只是一个才工作几个月的小菜鸟都可以做到，相信你们也可以的，今天，我就和大家一起一步一步揭开backbone的面纱，总结下自己的学习经历也为backbone的中文社区做些贡献，如果笔记中有哪些我理解上的偏差(这个肯定会有的)，也希望大家给我留言来指出，也很感谢大家多多指出我的错误，这样才能共同进步。</p><p>　　学习backbone前我们先来看下Underscore，因为backbone内部其实是使用Underscore提供的很强大的工具函数，现在离我第一次（也是最后一次）学习backbone有2个多月了，有很多机制，细节也记不太清楚了，不过不要紧，我们一步一步来分析它。首先我们看下Underscore的概况。</p><p>　　Underscore其实是一个JavaScript工具函数集，它提供了很多有助于提高你编程效率的使用工具函数，这些函数在prototype以及后台的Ruby中都有类似的实现，但是Underscore和prototype相比，它没有改变原生的JavaScript对象，这就使得它也可以和jQuery搭配使用。Underscore提供的60多个函数中包括常见的map,select,invoke以及一些特殊的帮助函数诸如binding,javascript templating,deep equality testing等等，如果在现代的浏览器中有这些函数的相应的实现比如foreach,map,reduce,filter,every,some,indexOf的话就用浏览器提供的实现，如果没的话就用其他函数来完成。Underscore这个开源项目目前是在GitHub上。</p><p>　　好，我们一点一点来学习它的源码：</p><pre class="brush:javascript;collapse:true;;gutter:true;">(function() {  // Baseline setup  // --------------  // Establish the root object, `window` in the browser, or `global` on the server.  var root = this;  // Save the previous value of the `_` variable.  var previousUnderscore = root._;  // Establish the object that gets returned to break out of a loop iteration.  var breaker = {};  // Save bytes in the minified (but not gzipped) version:  var ArrayProto = Array.prototype, ObjProto = Object.prototype, FuncProto = Function.prototype;  // Create quick reference variables for speed access to core prototypes.  var slice = ArrayProto.slice,      unshift = ArrayProto.unshift,      toString = ObjProto.toString,      hasOwnProperty = ObjProto.hasOwnProperty;  // All **ECMAScript 5** native function implementations that we hope to use  // are declared here.  var    nativeForEach = ArrayProto.forEach,    nativeMap = ArrayProto.map,    nativeReduce = ArrayProto.reduce,    nativeReduceRight = ArrayProto.reduceRight,    nativeFilter = ArrayProto.filter,    nativeEvery = ArrayProto.every,    nativeSome = ArrayProto.some,    nativeIndexOf = ArrayProto.indexOf,    nativeLastIndexOf = ArrayProto.lastIndexOf,    nativeIsArray = Array.isArray,    nativeKeys = Object.keys,    nativeBind = FuncProto.bind;  // Create a safe reference to the Underscore object for use below.  var _ = function(obj) { return new wrapper(obj); };  // Export the Underscore object for **Node.js** and **"CommonJS"**, with  // backwards-compatibility for the old `require()` API. If we're not in  // CommonJS, add `_` to the global object.  if (typeof exports !== 'undefined') {    if (typeof module !== 'undefined' &amp;&amp; module.exports) {      exports = module.exports = _;    }    exports._ = _;  } else {    // Exported as a string, for Closure Compiler "advanced" mode.    root['_'] = _;  }  // Current version.  _.VERSION = '1.2.0';</pre>

了解破碎机常识：<a href='http://www.crushermillsupplier.com'>crusher mill supplier</a>
---
layout: post
title: 程序倉庫從Subversion遷移到Git
---

1.安裝Git  <p>1)如果你是Windows用戶,請到http://code.google.com/p/msysgit/downloads/list 下載編譯好的Windows版Git—Msysgit.</p>  <p>注:一般最新版Msysgit都集成了git-svn(git-svn可以讓你SVN和Git同時使用,轉換你的Subversion到Git,並且保留svn的優點,如keywords,簡單就可以設定好ignore list、executable、permission、ownership,所以repo用的是SVN,詳見下圖所示).如果輸入命令git svn後終端提示Not a git repository,則說明git-svn已正確集成.</p>    <p>2)如果你希望把所有的Linux下的工作轉移到Windows下,則可以下載Cygwin,到其官網下載setup.exe後,選擇安裝包時具體位置是:<em>All—&gt;Devel—&gt;Git/Git-Completion</em></p>    <p>以及集成git和svn的<em>subversion-perl</em>和Git默認的編輯器<em>Vim</em></p>      <p>3)如果你的操作系統是Linux/Unix/BSD,那麼安裝方法就容易多了:</p>  <p>Linux Deb: aptitude install git-core git-svn</p>  <p>Linux RPM: yum install git git-svn</p>  <p>Mac OS: git-svn for mac os</p>  <p>如果說到這裡你還不明白為甚麼要用Git,看完下圖就明白了:</p>    <p>本打算移民Github,但對比Github、SF和GoogleCode後發現還是GoogleCode的速度規模和效率占優,因此選擇它作為提交代碼的平台.</p>  <p>因為有一些舊項目是在GoogleCode支持Git之前提交的,故用的還是SVN倉庫,遠程repository的svn目錄結構如下</p>  <p>svn</p>  <p>----branches 分支目錄,主要存放一些新開發的功能</p>  <p>----tags 基線目錄,穩定的程序,即最後發布的版本</p>  <p>----trunk 開發主線目錄,主要存放源代碼</p>  <p>----wiki 存放項目wiki</p>  <p>看到上面的表格我們可以預估GitHub勢不可當的潮流,但就國內的網速而言,建議大家還是選擇Google比較靠譜一些.</p>  2.使用git-svn  <p>git-svn的使用流程Msysgit或Cygwin都一樣,只不過Cygwin多了一個配置的過程,詳見http://bit.ly/u0rtv8.</p>  <p>1、git svn clone svn_repository</p>  <p>2、修改本地代碼,使用git add/commit將修改提交到本地git庫</p>  <p>3、定期使用git svn rebase獲取中心svn repository的更新</p>  <p>4、使用git svn dcommit命令將本地git庫的修改同步到中心svn庫</p>  <p>PS:初次運行Git需要先在$HOME目錄下建立一個基本的用戶配置文件:</p>  <p>vi ~/.gitconfig</p>  <p>[user]</p>  <p>name=crazyhack</p>  <p>email=horieyui#163.com&#160;&#160; &lt;—#提換成@</p>  <p>用命令git config –list檢察你的設置信息,若沒有錯誤,那麼在本地程序庫建立一個工程目錄,就可以寫代碼進行版本控制了.</p>  <p>Cygwin剛安裝完其自帶的Vim是有問題的,移動光標後就會自動退出插入模式,解決方法:</p>  <p>1.切換到插入模式才能輸入文字(切記在進入插入模式前後都不要按方向鍵和退格鍵!).</p>  <p>2.編輯好後要從插入模式切換到命令行模式才能對文件進行保存.</p>  <p>3.保存並退出文件:輸入 :wq</p>  3.關於git-svn流程的詳細說明  <p>下面對這些流程一一詳細說明:</p>  <p>1、&quot;svn checkout&quot; (下載)</p>  <p>一般情況下git svn clone這個操作從第一個版本開始同步,但如果版本號過高,這個操作會相當費時.這時我們可以使用參數-r$REVNUMBER:HEAD檢出指定版本後的代碼.</p>  <p>因此,改進的步驟為:</p>  <p>svn info svn_url</p>  <p>PS:建議使用Cygwin或Linux系統,才能正常使用svn命令</p>  <p>紀錄最後的版本號,如65,則取出最後1個版本的參數值為65-1=64,然後再輸入下列命令:</p>  <p>git svn clone –r64:HEAD svn_url</p>  <p>出現三個選項:(R)eject accept (t)emporarily or accept (p)ermanently</p>  <p>輸入p,迴車</p>    <p>2、&quot;svn update&quot; (升級)</p>  <p>關鍵是要先git svn rebase把trunk那邊的更動合併過來,然後再下命令git svn fetch抓取svn端的最新版本</p>  <p>3、&quot;svn commit&quot; (提交)</p>  <p>git svn dcommit</p>  <p>要檢察跟之前主幹trunk版本差別的話,輸入</p>  <p>git diff svn_url/trunk</p>

了解破碎机常识：<a href='http://www.crushermillsupplier.com'>crusher mill supplier</a>
---
layout: post
title: MongoDB +JSON+JQuery.Pagination+Linq 实现无刷新分页
---

<p>MongoDB 下载:http://www.mongodb.org/</p><p>本实例中MongoDB的C#驱动，支持linq：https://github.com/samus/mongodb-csharp</p><p>MongoDB的基本配置可以参考：http://www.cnblogs.com/lipan/archive/2011/03/08/1966463.html</p><p>本实例中使用的MongoDB 版本是：mongodb-win32-i386-2.0.2-rc1.zip</p><p>samus 驱动版本:samus-mongodb-csharp-0.90.0.1-93-g6397a0f.zip</p><p>web前端：</p><p>http://s.click.taobao.com/t_11?e=%2BtSC5ziSlQIKWwZv%2FOdFHL%2BK04IsHFTIXCbVQxdwNJs1TNXDFNfC0g%3D%3D&amp;p=mm_32233099_3201984_10539553</p>View Code <pre>&lt;%@ Page Language="C#" AutoEventWireup="true" CodeFile="JsonList.aspx.cs" Inherits="MongoDB_JsonList" %&gt;&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"&gt;&lt;html xmlns="http://www.w3.org/1999/xhtml"&gt;&lt;head runat="server"&gt;    &lt;title&gt;&lt;/title&gt;&lt;/head&gt;&lt;link href="../css/pagination.css" rel="stylesheet" type="text/css" /&gt;&lt;body&gt;    &lt;form id="form1" runat="server"&gt;    &lt;div&gt;        &lt;table id="tblData" width="80%" cellpadding="1" cellspacing="1" bgcolor="gray" style="text-align: center"&gt;            &lt;tr&gt;                &lt;td&gt;                    NewsID                &lt;/td&gt;                &lt;td&gt;                    Title                &lt;/td&gt;                &lt;td&gt;                    SmallClassName                &lt;/td&gt;                &lt;td&gt;                    Author                &lt;/td&gt;                &lt;td&gt;                    UpdateTime                &lt;/td&gt;            &lt;/tr&gt;        &lt;/table&gt;        &lt;div id="Pagination"&gt;        &lt;/div&gt;    &lt;/div&gt;    &lt;/form&gt;&lt;/body&gt;&lt;/html&gt;&lt;script src="../js/jquery-1.4.2.min.js" type="text/javascript"&gt;&lt;/script&gt;&lt;script src="../js/jquery.pagination.js" type="text/javascript"&gt;&lt;/script&gt;&lt;script language="javascript" type="text/javascript"&gt; var pageIndex =0;     //页索引 var pageSize =20;    //每页显示的条数    $(function() {    Init(0);                  $("#Pagination").pagination(&lt;%=pageCount %&gt;, {                         callback: PageCallback,                         prev_text: '上一页',                          next_text: '下一页',                           items_per_page: pageSize,                           num_display_entries: 5,                     current_page: pageIndex,                        num_edge_entries: 1                  });                            function PageCallback(index, jq) {                      Init(index);                 }    });    function Init(pageIndex) {        $.ajax({            type: "POST",            dataType: "text",            url: 'JsonList.aspx',                          data: "pageIndex=" + (pageIndex + 1) + "&amp;pageSize=" + pageSize,                                             success: function(data) {                            if(data!=""){                 $("#tblData tr:gt(0)").remove();//移除所有的数据行                 data=$.parseJSON(data);                                                         $.each(data,function(index,news){                       $("#tblData").append("&lt;tr bgcolor='white'&gt;&lt;td&gt;"+news.NewsID+"&lt;/td&gt;&lt;td algin='left'&gt;"+news.Title+"&lt;/td&gt;&lt;td&gt;"+news.SmallClassName+"&lt;/td&gt;&lt;td&gt;"+news.Author+"&lt;/td&gt;&lt;td&gt;"+news.Updatetime+"&lt;/td&gt;&lt;/tr&gt;");  //将返回的数据追加到表格                    });                                   }            }        });    }&lt;/script&gt;</pre>

了解破碎机常识：<a href='http://www.crushermillsupplier.com'>crusher mill supplier</a>
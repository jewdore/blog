---
layout: post
title: 用 Emacs Org 撰写博客
---

org2blog 是什么<p>org2blog是用来把 org-mode 格式的文章发布到 wordpress 的工具。其实之前使用 webloger.el 也可以发布到 wordpress，不过是 webloger.el 已经基本没人维护了，这个 org2blog 作者支持还很积极，另外 org-mode 还提供了一些额外的方便编辑的方法，所以其实是个不错的东东。</p>安装<p>其实按照上面地址的内容，安装很简单。</p><pre>git clone http://github.com/punchagan/org2blog.git(setq load-path (cons "~/.emacs.d/org2blog/" load-path))(require 'org2blog-autoloads)</pre><ol>依赖xml-rpc，添加到 load-path需要最新版本的 org-mode，我使用的是 emacs 24 里面的 7.7，之前使用 7.5(?) 的时候，遇到了发布的时候会在文章结尾附加 导致 blog 的展现挂掉的问题。</ol>使用配置<pre>;;;; org2blog;;(require 'org2blog-autoloads)(setq org2blog/wp-blog-alist      `(("abc"         :url "http://abc.com/xmlrpc.php"         :username "admin"         :password PWD         :keep-new-lines t         :confirm t         :wp-code nil         :tags-as-categories nil)        ))(setq org2blog/wp-buffer-template  "#+DATE: %s#+OPTIONS: toc:nil num:nil todo:nil pri:nil tags:nil ^:nil TeX:nil#+CATEGORY: Heart#+TAGS:#+PERMALINK:#+TITLE:\n")</pre><p>我不使用 wordpress 的 code 格式，所以设置了 wp-code 为 nil。可以定义多个 blog。</p>登陆，发帖<p>M-x org2blog/wp-login 会提示你要登陆哪个 blogM-x org2blog/wp-new-entry 会使用设置的 template 打开一个 bufferM-x org2blog/wp-post-buffer 保存成 draftM-x org2blog/wp-post-buffer-and-publish 真实发布</p><p>另外，还可以发布一个 tree 而不是整个 org 文件，以及一些其他的操作就不多说了。</p><p>发布源代码可以使用 BEGIN_SRC END_SRC 块，或者冒号开头的行会被当作源代码。</p><p>我使用的是 wp-syntax，所以发布源代码使用 BEGIN_HTML 在里面使用 pre 标签，这样出来的代码会加上格式高亮。</p><pre><code>#+BEGIN_HTML&lt;pre lang="lisp"&gt;(setq a 1)&lt;/pre&gt;#+END_HTML</code></pre>其他<p>使用 org2blog 只能从 org 发布到 wordpress，不能从 wordpress 回到 org 文件再进行编辑，不过我看到有人已经提供了一个解决方法，或许将来也会支持这个功能。</p><p>使用 org2blog 发布很讨厌的一点是，他会把你的 org 加上很多的 html 代码，再编辑的时候比较讨厌。</p><p>org2blog 在 github 的页面https://github.com/punchagan/org2blog上面有不少有用的东西，建议看看。</p>

了解破碎机常识：<a href='http://www.crushermillsupplier.com'>crusher mill supplier</a>
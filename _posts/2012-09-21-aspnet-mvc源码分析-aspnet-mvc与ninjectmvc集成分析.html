---
layout: post
title: Asp.net MVC源码分析--Asp.net MVC与Ninject.MVC集成分析
---

<p>在之前的文章中我们分析了DependencyResolver 与 Service location. 可以利用DependencyResolver 来注册我们自己的IResolver实现,从而改变框架的行为．在Niject.MVC 中正是利用这个机制来实现了一套Service location机制，来创建Controller.</p><p>Niject.MVC 源码的下载地址是:https://github.com/ninject/ninject.web.mvc</p><p>------------------------------------------------------------------------------------------</p><p>首先我们找到NinjectMVC3.cs 文件，所有引入Niject.MVC dll 的asp.net MVC项目都需要这个类</p>View Code <pre> 1 #if NUGET 2 [assembly: WebActivator.PreApplicationStartMethod(typeof(SampleApplication.App_Start.NinjectMVC3), "Start")] 3 [assembly: WebActivator.ApplicationShutdownMethodAttribute(typeof(SampleApplication.App_Start.NinjectMVC3), "Stop")] 4  5 namespace SampleApplication.App_Start 6 { 7     using System.Reflection; 8     using Microsoft.Web.Infrastructure.DynamicModuleHelper; 9     using Ninject;10     using Ninject.Web.Mvc;11 12     public static class NinjectMVC3 13     {14         private static readonly Bootstrapper bootstrapper = new Bootstrapper();15 16         /// &lt;summary&gt;17 /// Starts the application18 /// &lt;/summary&gt;19         public static void Start() 20         {21             DynamicModuleUtility.RegisterModule(typeof(OnePerRequestModule));22             DynamicModuleUtility.RegisterModule(typeof(HttpApplicationInitializationModule));23             bootstrapper.Initialize(CreateKernel);24         }25         26         /// &lt;summary&gt;27 /// Stops the application.28 /// &lt;/summary&gt;29         public static void Stop()30         {31             bootstrapper.ShutDown();32         }33         34         /// &lt;summary&gt;35 /// Creates the kernel that will manage your application.36 /// &lt;/summary&gt;37 /// &lt;returns&gt;The created kernel.&lt;/returns&gt;38         private static IKernel CreateKernel()39         {40             var kernel = new StandardKernel();41             RegisterServices(kernel);42             return kernel;43         }44 45         /// &lt;summary&gt;46 /// Load your modules or register your services here!47 /// &lt;/summary&gt;48 /// &lt;param name="kernel"&gt;The kernel.&lt;/param&gt;49         private static void RegisterServices(IKernel kernel)50         {51             kernel.Load(Assembly.GetExecutingAssembly());52         }        53     }54 }55 #endif</pre>

了解破碎机常识：<a href='http://www.crushermillsupplier.com'>crusher mill supplier</a>
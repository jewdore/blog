---
layout: post
title: 命名函数表达式
---

<p>&#160;</p>  <p>&#160;</p>  <p>好文章，可惜中文译文已经无法访问了。不过在cssrain上找到一篇：www.cssrain.cn/demo/named%20function%20expression/Named%20function%20expressions%20demystified.htm</p>  <p>英文地址还在：kangax.github.com/nfe/</p>  <p>&#160;</p>  <p>之前写过的一些相关文章：</p>  <p>《关于JS引擎对var与function预解析》</p>  <p>《如何理解表达式中的具名函数》</p>  <p>《函数声明与函数表达式》</p>  <p>《命名函数表达式探秘》</p>  <p>&#160;</p>  <p>&#160;</p>  <p>看IE6、IE7、IE8与其它非IE下的不同</p>  <pre class="brush: js; auto-links: true; collapse: false; first-line: 1; gutter: true; html-script: false; light: false; ruler: false; smart-tabs: true; tab-size: 4; toolbar: true;"> var f = function foo(){    return typeof foo; // &quot;foo&quot; is available in this inner scope  };  // `foo` is never visible &quot;outside&quot;  typeof foo; // &quot;undefined&quot;  f(); // &quot;function&quot;</pre><p>&#160;</p><p>除IE6、7、8外，其它浏览器均显示foo为undefined</p><p>这是JScript的bugs，好像IE9的beta2中已经修复了？（尚未安装过，有待证实）</p><p>&#160;</p><p>&#160;</p><p>IE中有两个“特性”</p><p>1、函数声明中的标识符允许包含.运算符，例如</p><p>function window.onload() {}</p><p>2、函数表达式中的标识符可以被函数外部访问</p><pre>var f = function g(){}; </pre><pre>typeof g; // &quot;function&quot;</pre><pre>&#160;</pre><pre>&#160;</pre><pre>&#160;</pre><pre>&#160;</pre><pre>具名函数表达式，果真是篇好文章：</pre><p>《Named function expressions demystified》</p><p>每周读一篇，思路更清晰^_^。</p><p>&#160;</p><p>&#160;</p><p>看完这些资料，做玉伯这道题应该就很简单了吧？</p><pre class="brush: js; auto-links: true; collapse: false; first-line: 1; gutter: true; html-script: false; light: false; ruler: false; smart-tabs: true; tab-size: 4; toolbar: true;">f = function() { return true; };g = function() { return false; };(function() {    if (g() &amp;&amp; [] == ![]) {        f = function f() { return false; };        function g() { return true; }    }})();alert(f()); // true or false ?</pre><p>&#160;</p><p>&#160;</p><p>我的答案是，在IE6、7、8下面，代码等价于：</p><pre class="brush: js; auto-links: true; collapse: false; first-line: 1; gutter: true; html-script: false; light: false; ruler: false; smart-tabs: true; tab-size: 4; toolbar: true;">&lt;script type=&quot;text/javascript&quot;&gt;f = function() { return true; };g = function() { return false; };(function() {var f, g; g = function() {return true;} f = function() {return false;}if (g()) {f = f;    }})();alert(f());&lt;/script&gt;</pre><p>&#160;</p><p>在FF下的代码等价于：</p><pre class="brush: js; auto-links: true; collapse: false; first-line: 1; gutter: true; html-script: false; light: false; ruler: false; smart-tabs: true; tab-size: 4; toolbar: true;">  &lt;script type=&quot;text/javascript&quot;&gt;f = function() { return true; };g = function() { return false; };(function() {if (g()) {        /**..*/    }})();alert(f());&lt;/script&gt;</pre><p>&#160;</p><p>在Chrome下等价于：</p><pre class="brush: js; auto-links: true; collapse: false; first-line: 1; gutter: true; html-script: false; light: false; ruler: false; smart-tabs: true; tab-size: 4; toolbar: true;">&lt;script type=&quot;text/javascript&quot;&gt;f = function() { return true; };g = function() { return false; };(function() {var g;function g() {return true;}if (g()) {       f = function f() {return false;   }    }})();alert(f()); &lt;/script&gt;</pre><p>那么就来测试一下不同浏览器下的效果吧 ~ ~ </p><p><link href="http://files.cnblogs.com/meteoric_cry/code_style.css" type="text/css" rel="stylesheet" /><textarea id="demo_1">&lt;script type=&quot;text/javascript&quot;&gt; f = function() { return true; }; g = function() { return false; }; (function() { if (g() &amp;&amp; [] == ![]) { alert(f); f = function f() { return false; }; function g() { return true; } } })(); alert(f()); // true or false ? &lt;/script&gt;</textarea><button onclick="runCode(&#39;demo_1&#39;);">预览代码</button></p>

了解破碎机常识：<a href='http://www.crushermillsupplier.com'>crusher mill supplier</a>
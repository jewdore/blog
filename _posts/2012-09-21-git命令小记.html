---
layout: post
title: Git命令小记
---

<p>　　由于自己平常git用的不多不熟练，最近写个小东西并把代码托管到github，才发现之前看的《Pro Git》和《看日记学git》完全打水漂。重翻《Pro Git》，把一些重要的常见的命令记下来，备忘，具体的请man。</p><p>符号约定：</p><p>[]：可选　　&lt;&gt;：必选</p>Git 配置<p>git config [--global] user.name &lt;name&gt;　　　　　　　　设置用户名</p><p>git config [--global] user.email &lt;email&gt;　　　　　　 　　设置邮箱</p><p>git config [--global] core.editor &lt;editor&gt;　　　　　　　　设置编辑器</p><p>git config [--global] github.user &lt;user&gt;　　　　　　　　设置github帐号名</p><p>git config [--global] github.token &lt;token&gt;　　　　　　　设置github的token</p><p>--global是对当前系统用户的全局设置，在～/.gitconfig中。对系统所有用户进行配置，/etc/gitconfig。对当前项目，.git/config</p>Git 创建库<p>git clone &lt;url&gt;　　　　　　　　　　　　　　　　　　　ssh/http(s)/git三种协议，ssh和https可推送</p><p>git init　　　　　　　　　　　　　　　　　　　　　　 初始化Git仓库</p>Git 日常操作<p>git add &lt;file&gt;　　　　　　　　　　　　　　　 将文件加入index file</p><p>git rm [--cached]　　　　　　　　　　　　　  删除，加--cached表示仅从index file中删除文件，即放弃跟踪</p><p>git mv &lt;src&gt; &lt;dest&gt;　　　　　　　　　　　　 移动/更名</p><p>git diff --cached/--staged　　　　　　　　　　当前索引与上次提交（有哪些需要commit）</p><p>git diff　　　　　　　　　　　　　　　　　   当前索引与工作目录（有哪些需要add）</p><p>git diff HEAD[^]　　　　　　　　　　　　　　 工作目录与上次提交（当前目录与上次提交有何改变）</p><p>git commit [-a] -m &lt;msg&gt;　　　　　　　　　　提交</p><p>git commit --amend [-m &lt;msg&gt;]　　　　　　　修复上次提交</p><p>git reset HEAD &lt;file&gt;　　　　　　　　　　　 同--mixed，default option</p><p>git reset --mixed HEAD　　　　　　　　　　 撤销 commit 和index file,只保留 working tree 的信息</p><p>git reset --hard HEAD[^]　　　　　　　　　　 将 working tree 和 index file 都撤销到以前状态</p><p>git reset --soft HEAD[^]　　　　　　　　　　 只撤销 commit,而保留 working tree 和 index file 的信息</p><p>　　　　　　　　　　　　　　　　　　　　　回复到某个状态。以git reset --soft HEAD为例，commit回退到</p><p>　　　　　　　　　　　　　　　　　　　　　HEAD（相当于无变化），若是HEAD^，则commit回退到HEAD^</p><p>git gc　　　　　　　　　　　　　　　　　　 用垃圾回收机制清除由于 reset 而造成的垃圾代码</p><p>git status　　　　　　　　　　　　　　　　　 显示当前工作目录状态</p><p>git log [-p]　　　　　　　　　　　　　　　　 显示提交历史（many useful options to be learned）</p><p>git branch [branch]　　　　　　　　　　　　  显示/新建分支</p><p>git branch -d/-D　　　　　　　　　　　　　　 删除分支（d表示&ldquo;在分支合并后删除分支&rdquo;，D表示无论如何都删除分支）</p><p>git show-branch</p><p>git checkout &lt;branch&gt;　　　　　　　　　　　 切换分支（分支未commit无法切换）</p><p>git merge &lt;branch&gt;　　　　　　　　　　　　 合并分支</p><p>git merge == git pull .</p><p>git show &lt;branch | commit | tag | etc&gt;　　　   显示对应对象的信息</p><p>git grep &lt;rep&gt; [object]　　　　　　　　　　　 （在指定对象（历史记录）中）搜索　　　　　　　　</p><p>git cat-file　　　　　　　　　　　　　　　　  查看数据</p><p>git cat-file &lt;-t | -s | -e | -p | (type)&gt; &lt;object&gt;    type can be one of: blob, tree, commit, tag</p><p>git ls-files [--stage]　　　　　　　　　　　　　 show information about files in the index and the working tree（实际是查看索引文件）</p><p>git watchchanged &lt;since&gt;..&lt;until&gt;　　　　　　 显示两个commit（当然也可以是branch）的区别</p><p>git remote [-v]　　　　　　　　　　　　　　  　　显示远程仓库，加-v选项可显示仓库地址</p><p>git remote add &lt;repo_name&gt; &lt;url&gt;　　　　　 　　添加远程仓库，repo_name为shortname，指代仓库地址</p><p>git remote rename &lt;old_name&gt; &lt;new_name&gt; 　　更名</p><p>git remote rm &lt;repo_name&gt;　　　　　　　　　　 删除远程仓库</p><p>git remote show &lt;repo_name&gt;　　　　　　　　　 查看远程仓库信息</p><p>git remote fetch &lt;repo_name&gt;　　　　　　　　　 从远程仓库抓取数据（并不合并）</p><p>git pull &lt;repo_name&gt; &lt;branch_name&gt;　　　　　　拉去数据并合并到当前分支</p><p>git push &lt;repo_name&gt; &lt;branch_name&gt;　　　　　 推送指定分支到指定仓库</p><p>git fetch &lt;repo_name&gt; &lt;branch_name&gt;[:&lt;local_branch_name&gt;]　　　　拉去数据，未合并</p>Git 标签<p>git 标签相关&hellip;&hellip;</p>Git 相关环境变量<p>GIT_DIR: 如果指定了那么git init将会在GIT_DIR指定的目录下创建版本库</p><p>GIT_OBJECT_DIRECTORY: 用来指示对象存储目录的路径。即原来$GIT_DIR/objects下的文件会置于该变量指定的路径下</p>Git 常见变量<p>HEAD: 表示最近一次的 commit。</p><p>MERGE_HEAD: 如果是 merge 产生的 commit,那么它表示除 HEAD 之外的另一个父母分支。</p><p>FETCH_HEAD: 使用 git-fetch 获得的 object 和 ref 的信息都存储在这里,这些信息是为日后 git-merge 准备的。</p><p>HEAD^: 表示 HEAD 父母的信息</p><p>HEAD^^: 表示 HEAD 父母的父母的信息</p><p>HEAD~4: 表示 HEAD 上溯四代的信息</p><p>HEAD^1: 表示 HEAD 的第一个父母的信息</p><p>HEAD^2: 表示 HEAD 的第二个父母的信息</p><p>COMMIT_EDITMSG: 最后一次 commit 时的提交信息。</p><p>TO BE FINISHED！</p>

了解破碎机常识：<a href='http://www.crushermillsupplier.com'>crusher mill supplier</a>
---
layout: post
title: CentOS6.2下fastDFS的完整安装和配置步骤
---

<p>centos6.2系统下安装配置FastDFS步骤:</p><p>1:安装libevent(libevent-2.0.16-stable)</p><p>##卸载系统自带libevent</p><p>rpm -qa|grep libevent rpm -e libevent*</p><p>##为Trackerd和Storaged节点节点安装libevent</p><p>cd /home/ylh</p><p>wget https://github.com/downloads/libevent/libevent/libevent-2.0.16-stable.tar.gz</p><p>tar -zxvf libevent-2.0.16-stable.tar.gz</p><p>cd libevent-2.0.16-stable</p><p>make clean</p><p>./configure</p><p>make &amp;&amp; make install</p><p>##为libevent创建软链接到/lib库下，64位系统对应/lib64</p><p>ln -s /usr/local/lib/libevent* /lib/</p><p>ln -s /usr/local/lib/libevent* /lib64/</p><p>2:为Trackerd节点安装FastDFS,并修改配置文件/etc/fdfs/tracker.conf( 如果Trackerd需要使用内置的web server,需要修改make文件，启用WITH_HTTPD=1再编译)</p><p>cd /home/ylh</p><p>wget http://fastdfs.googlecode.com/files/FastDFS_v3.06.tar.gz</p><p>tar -zxvf FastDFS_v3.06.tar.gz</p><p>cd FastDFS_v3.06</p><p>./make.sh</p><p>./make.sh install</p><p>##创建存储目录</p><p>mkdir /home/ylh/fastdfs</p><p>##修改配置文件. vim /etc/fdfs/tracker.conf 修改后保存退出</p><p>##启动Trackerd</p><p>/usr/local/bin/fdfs_trackerd /etc/fdfs/tracker.conf</p><p>3:为Storaged节点安装FastDFS， Storaged节点也需要libevent，安装步骤参见第一步</p><p>cd /home/ylh</p><p>wget http://fastdfs.googlecode.com/files/FastDFS_v3.06.tar.gz</p><p>tar -zxvf FastDFS_v3.06.tar.gz</p><p>cd FastDFS_v3.06</p><p>./make.sh</p><p>./make.sh install</p><p>4:为Storaged节点安装web服务器，Storaged节点可以使用nginx或者apache提供http下载服务。这里我们选用nginx。</p><p>cd /home/ylh</p><p>wget http://nginx.org/download/nginx-0.8.55.tar.gz</p><p>tar zxvf nginx-0.8.55.tar.gz</p><p>cd nginx-0.8.55</p><p>./configure --prefix=/opt/nginx --with-http_stub_status_module</p><p>make &amp;&amp; make install</p><p>5:为Storaged节点安装fastdfs-nginx-module</p><p>cd /home/ylh</p><p>wget http://fastdfs.googlecode.com/files/fastdfs-nginx-module_v1.10.tar.gz</p><p>tar xzf fastdfs_nginx_module_v1.05.tar.gz</p><p>cd /home/ylh/nginx-0.8.55 ./configure --add-module=/home/ylh/fastdfs-nginx-module/src</p><p>make; make install</p><p>6:修改nginx配置文件并保存退出(vim /usr/local/nginx/conf/nginx.conf)</p><p>location /M00 { </p><p> root /home/ylh/fastdfs/data; </p><p> 　　ngx_fastdfs_module; </p><p>　　}</p><p>7:拷贝并修改nginx模块配置文件</p><p>cp /home/ylh/fastdfs-nginx-module/src/mod_fastdfs.conf /etc/fdfs</p><p>vim 修改/etc/fdfs/mod_fastdfs.conf 保存退出</p><p>##启动nginx</p><p>/usr/local/nginx/sbin/nginx</p><p>8:修改Storaged节点的配置文件/etc/fdfs/storage.conf，启动Storaged</p><p>##创建存储目录 mkdir /home/ylh/fastdfs</p><p>##修改配置 vim /etc/fdfs/storage.conf 修改后保存退出</p><p>##启动 Storaged</p><p>/usr/local/bin/fdfs_storaged /etc/fdfs/storage.conf</p><p>9:测试</p><p>## 修改客户端配置文件/etc/conf/client.conf文件并保存退出</p><p>##测试上传</p><p>/usr/local/bin/ fs_test /etc/conf/client.conf upload /home/a.jpg</p><p>如果上传成功回显信息中有文件的url,在浏览器中，输入url地址， tracker server会自动重定向到存储文件的storage server，文件下载成功。</p><p>至此，已经成功搭建了FastDFS</p><p>关于FastDFS的相关配置问题参考：</p><p>http://bbs.chinaunix.net/thread-1941456-1-1.html</p><p>http://bbs.chinaunix.net/thread-1920470-1-1.html</p>

了解破碎机常识：<a href='http://www.crushermillsupplier.com'>crusher mill supplier</a>
---
layout: post
title: Pragmatic Version Control Using Git学习笔记
---

<p>1：</p><p>　工作目录树是版本库的一个断面；</p><p> 可以通过初始化命令生成.git文件夹，则它的父目录就是版本库；也可以通过Clone一个已有的版本库，也就连带着创建了工作目录树</p><p> 克隆一个已有的版本库，也就是穿件一个版本库的拷贝，并把Master Branch 的内容Check Out 到工作目录树</p><p>  Check Out 是指更新工作目录树，使其与版本库中某个特定版本相同。</p><p> 代码修改： 修改完之后，需要进行单元测试，之后 Commit 生成一个新的Revision Log Message Commit Message（这多半是指本地）</p><p>         push到上游版本库（公共版本库）</p><p>         Pull 远程版本库： 1： Fetch改动 2：Merge</p><p>  创建分支： Master Branch 是开发的主线</p><p>  合并分支： Git具有 Merge Tracking 功能 ；</p><p>  Optimistic Locking： Joe 和Alice 都克隆了公共版本库到本地，并开始修改代码。 他们修改了同一文件的不同部分，Alice Push 他的修改入库，Joe之后，必须首先把新变化从公共版本库中Pull倒塌的本地版本库，Merge Conflicting 之后他他自己的修改Push到公共库</p><p>2：</p><p>  git config --global user.name "wangshuai"</p><p>　　git config --global user.email "wangshuai901@gmail.com"</p><p> git config --global --list</p><p>  git config --global color.ui "auto"</p><p>   git自带机遇Tcl/Tk的图形界面</p><p>  使用：</p><p>   git add index.xml</p><p>   git commit -m "add in asdasd"</p><p>   git log输出：</p><p>commit c4a3fa6bf7f04f4b11e33bd9a9872a4171f6a764Author: wangshuai &lt;wangshuai901@gmail.com&gt;Date: Tue Jan 3 17:58:13 2012 -0800</p><p>add in hello world HTML</p><p>   git status : 输出：</p><p># On branch master# Changed but not updated:# (use "git add &lt;file&gt;..." to update what will be committed)# (use "git checkout -- &lt;file&gt;..." to discard changes in working directory)## modified: index.html#no changes added to commit (use "git add" and/or "git commit -a")</p><p>   git已经检测到了修改，但还不知道如何处理。修改过的文件如果要提交，需要暂存（stage）修改。</p><p>   三个存放代码的地方： 工作目录树； 暂存区； 版本库</p><p> git分支：</p><p> 分值为要发布的代码保留一份拷贝。 让我想起了网管程序的61所稳定版和多通道开发版。。。</p><p>  </p><p>wangshuai@ubuntu:~/mysite$ git branch RB_1.0 master wangshuai@ubuntu:~/mysite$ lsindex.html</p><p>切换分支</p><p>wangshuai@ubuntu:~/mysite$ git checkout HEAD master RB_1.0</p><p> </p><p> 处理发布： 发布的时候，要为这个版本打上标签</p><p> git tag 1.0 RB_1.0</p><p> git tag</p><p>1.0</p><p>git checkout master</p><p>git rebase RB_1.0 编辑是把一条分之上的修改在另一条分支的末梢重现</p><p>git branch -d RB_1.0</p><p> 删除发布分支，但是并没有删除tag 根据tag可以快速定位以前的RB版本</p><p>git branch RB_1.0.1 1.0</p><p>git checkout RB_1.0.1</p><p>git log --pretty-oneline</p><p>打包发布： 不许要吧历史记录（也即是Git版本库）一起发布</p><p>git archive --format-tar --prefix=mysite-1.0/ 1.0 | gzip &gt; mysite-1.0.tar.gz  注意 1.0 指的是标签的名称</p><p>克隆版本库命令：</p><p>wangshuai@ubuntu:~/gitHubPro$ git clone git://github.com/tswicegood/mysite.git mysite-remoteInitialized empty Git repository in /home/wangshuai/gitHubPro/mysite-remote/.git/remote: Counting objects: 12, done.remote: Compressing objects: 100% (8/8), done.remote: Total 12 (delta 2), reused 0 (delta 0)Receiving objects: 100% (12/12), done.Resolving deltas: 100% (2/2), done.wangshuai@ubuntu:~/gitHubPro$ lsmysite-remote</p><p>为什么要暂存？</p><p> stage change 就是工作目录树中那些你打算提交到版本库中的变更 他会给用户在提交版本哭之前精心选择提交内容</p><p>明确指定那些需要提交，那些不需要： 通过git add 来实现</p><p>跟踪-》暂存-》提交</p><p>git add -i 可以选择暂存修改和 不存修改</p><p>git add -p 可以直接进入补丁模式 比较当前内容与 版本库中的差异，然后决定是否添加这些修改到版本库</p><p>4：</p><p> git status 查看工作目录树中所有的改动（只是表示出没文件有改动，不会分析是具体什么地方有改动。。。）</p><p>查看文件改动：</p><p> git diff 可以显示出工作目录树，暂存区以及版本库之间的差异</p><p> git diff 显示工作目录树中未被暂存的改动： 工作目录树与暂存区之间的差别</p><p>wangshuai@ubuntu:~/mysite$ git diffdiff --git a/index.html b/index.htmlindex f9fa879..3ce976a 100644--- a/index.html+++ b/index.html@@ -8,6 +8,7 @@ &lt;/ul&gt; &lt;ul&gt; &lt;li&gt;&lt;a href="contract.html"&gt;geography&lt;/a&gt;&lt;/li&gt;+ &lt;li&gt;&lt;a href="company.html"&gt;cmu&lt;/a&gt;&lt;/li&gt; &lt;/ul&gt; &lt;body&gt; &lt;h1&gt;hello world!&lt;/h1&gt;</p><p>git diff --cached</p><p>wangshuai@ubuntu:~/mysite$ git diff --cached diff --git a/index.html b/index.htmlindex 929c402..f9fa879 100644--- a/index.html+++ b/index.html@@ -6,6 +6,9 @@ &lt;ul&gt; &lt;li&gt;&lt;a href="about.html"&gt;Biography&lt;/a&gt;&lt;/li&gt; &lt;/ul&gt;+&lt;ul&gt;+ &lt;li&gt;&lt;a href="contract.html"&gt;geography&lt;/a&gt;&lt;/li&gt;+&lt;/ul&gt; &lt;body&gt; &lt;h1&gt;hello world!&lt;/h1&gt; &lt;/body&gt;</p><p>git diff HEAD 比较工作目录树 （包括暂存和未暂存修改） 与 版本库之间的差异：</p><p>wangshuai@ubuntu:~/mysite$ git diff HEADdiff --git a/index.html b/index.htmlindex 929c402..3ce976a 100644--- a/index.html+++ b/index.html@@ -6,6 +6,10 @@ &lt;ul&gt; &lt;li&gt;&lt;a href="about.html"&gt;Biography&lt;/a&gt;&lt;/li&gt; &lt;/ul&gt;+&lt;ul&gt;+ &lt;li&gt;&lt;a href="contract.html"&gt;geography&lt;/a&gt;&lt;/li&gt;+ &lt;li&gt;&lt;a href="company.html"&gt;cmu&lt;/a&gt;&lt;/li&gt;+&lt;/ul&gt; &lt;body&gt; &lt;h1&gt;hello world!&lt;/h1&gt; &lt;/body&gt;</p>

了解破碎机常识：<a href='http://www.crushermillsupplier.com'>crusher mill supplier</a>
---
layout: post
title: Redmine running under Mongrel as windows service
---

<p>原文：https://sites.google.com/site/alensit/software-tools/redmine#TOC-Running-under-Mongrel</p> <p>天朝局域网威武，原文链接有可能必须通过特殊手段才能打开，谨此提示。</p> <p>首先完成Redmine安装见 http://www.cnblogs.com/fromchaos/archive/2011/09/19/2181755.html</p>  <p>1、安装Mongrel，命令提示窗口下输入：</p> <blockquote> <p>gem install mongrel</p></blockquote> <p>命令提示窗口输出：</p> <blockquote> <p>Successfully installed gem_plugin-0.2.3 </p> <p>Successfully installed cgi_multipart_eof_fix-2.5.0 </p> <p>Successfully installed mongrel-1.1.5-x86-mingw32 </p> <p>3 gems installed</p></blockquote> <blockquote></blockquote> <p>2、转到redmine安装目录</p> <blockquote> <p>cd redmine安装目录</p> <p><code>set RAILS_ENV=production</code>  </p><p><code>mongrel_rails start</code></p></blockquote> <p><code>3、登陆的时候会出问题</code></p> <p><code>解决方法：复制mongrel.rb（https://gist.github.com/826692） , patch_for_mongrel.rb和rails_6440_patch.rb到redmine目录下\config\initializers文件夹中，重启mongrel_rails。</code></p> <p><code>参考：http://www.redmine.org/issues/7857</code></p> <p> </p> <p><code>4、安装mongrel service,</code><code>命令提示符下安装mongrel_service</code></p> <blockquote> <p>gem install mongrel_service</p></blockquote> <p> 使用的版本号是0.4.0</p> <p> </p> <p>5、安装windows service</p> <blockquote> <p>mongrel_rails service::install -N mongrel_redmine -D "Mongrel serving Redmine on 3000" -p 3000 -e production -c redmine安装目录</p></blockquote> <p>6、启动windows service</p> <blockquote> <p>net start mongrel_redmine</p></blockquote> <p>配置windows service自动运行</p> <blockquote> <p>sc config mongrel_redmine start= auto</p></blockquote> <p>测试：</p> <p>浏览器输入URL：http://127.0.0.1:3000/</p>  <p>7、卸载windows service</p> <blockquote> <p>mongrel_rails service::remove -N mongrel_redmine </p></blockquote>  <p><em>如果安装gem的时候可能会因为网速的原因导致等待时间过长或者安装失败，可以去</em><em>http://rubygems.org/</em><em>下载gem，然后使用gem &#8211;l 安装</em></p> <blockquote> <p><em>gem install gem名 -l</em></p></blockquote>

了解破碎机常识：<a href='http://www.crushermillsupplier.com'>crusher mill supplier</a>
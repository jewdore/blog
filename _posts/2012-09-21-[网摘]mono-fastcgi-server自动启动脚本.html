---
layout: post
title: [转]mono fastcgi server自动启动脚本
---

<p>如果你的mono站点以fastcgi方式运行，且不想每次重启服务器都手动启动fastcgi-mono-serverX，那么下面的脚本将能省去这一步骤（WEBAPPS变量代表了要启动的站点，按需修改即可）</p><pre class="brush:Perl;gutter:false;">#!/bin/sh### BEGIN INIT INFO# Provides:          monoserve.sh# Required-Start:    $local_fs $syslog $remote_fs# Required-Stop:     $local_fs $syslog $remote_fs# Default-Start:     2 3 4 5# Default-Stop:      0 1 6# Short-Description: Start fastcgi mono server with hosts### END INIT INFOPATH=/usr/local/sbin:/usr/local/bin:/sbin:/bin:/usr/sbin:/usr/binDAEMON=/usr/local/bin/monoNAME=monoserverDESC=monoserverMONOSERVER=$(which fastcgi-mono-server2)MONOSERVER_PID=$(ps auxf | grep fastcgi-mono-server2.exe | grep -v grep | awk '{print $2}')WEBAPPS="www.domain1.xyz:/:/var/www/domain1.xyz/,www.domain2.xyz:/:/var/www/domain2.xyz/"case "$1" in        start)                if [ -z "${MONOSERVER_PID}" ]; then                        echo "starting mono server"                        ${MONOSERVER} /applications=${WEBAPPS} /socket=tcp:127.0.0.1:9000 &amp;                        echo "mono server started"                else                        echo ${WEBAPPS}                        echo "mono server is running"                fi        ;;        stop)                if [ -n "${MONOSERVER_PID}" ]; then                        kill ${MONOSERVER_PID}                        echo "mono server stopped"                else                        echo "mono server is not running"                fi        ;;esacexit 0</pre>

了解破碎机常识：<a href='http://www.crushermillsupplier.com'>crusher mill supplier</a>